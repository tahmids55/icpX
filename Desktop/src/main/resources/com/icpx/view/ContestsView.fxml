<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="com.icpx.controller.ContestsController"
      spacing="10" style="-fx-background-color: #f5f5f5;">
    
    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>
    
    <!-- Header -->
    <HBox alignment="CENTER_LEFT" spacing="15">
        <Label text="Codeforces Contests" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #2563eb;"/>
        <Region HBox.hgrow="ALWAYS"/>
        <Button fx:id="refreshButton" text="Refresh" onAction="#handleRefresh" 
                style="-fx-background-color: #2563eb; -fx-text-fill: white; -fx-padding: 8 16; -fx-background-radius: 5;"/>
        <ProgressIndicator fx:id="progressIndicator" visible="false" prefWidth="30" prefHeight="30"/>
    </HBox>
    
    <!-- Status Label -->
    <Label fx:id="statusLabel" text="Ready" style="-fx-text-fill: #666;"/>
    
    <!-- Contests TabPane -->
    <TabPane fx:id="contestTabPane" VBox.vgrow="ALWAYS" tabClosingPolicy="UNAVAILABLE"
             style="-fx-background-color: white;">
        
        <!-- Upcoming Contests Tab -->
        <Tab text="Upcoming">
            <VBox spacing="5" style="-fx-background-color: white;">
                <padding>
                    <Insets top="10" right="10" bottom="10" left="10"/>
                </padding>
                <Label text="Double-click a contest to open in browser" 
                       style="-fx-text-fill: #666; -fx-font-size: 12px;"/>
                <TableView fx:id="upcomingTable" VBox.vgrow="ALWAYS"
                          style="-fx-background-color: white;">
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                    </columnResizePolicy>
                </TableView>
            </VBox>
        </Tab>
        
        <!-- Running Contests Tab -->
        <Tab text="Running">
            <VBox spacing="5" style="-fx-background-color: white;">
                <padding>
                    <Insets top="10" right="10" bottom="10" left="10"/>
                </padding>
                <Label text="Double-click a contest to open in browser" 
                       style="-fx-text-fill: #666; -fx-font-size: 12px;"/>
                <TableView fx:id="runningTable" VBox.vgrow="ALWAYS"
                          style="-fx-background-color: white;">
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                    </columnResizePolicy>
                </TableView>
            </VBox>
        </Tab>
        
        <!-- Finished Contests Tab -->
        <Tab text="Finished">
            <VBox spacing="5" style="-fx-background-color: white;">
                <padding>
                    <Insets top="10" right="10" bottom="10" left="10"/>
                </padding>
                <Label text="Double-click a contest to open in browser â€¢ Right-click to import problems" 
                       style="-fx-text-fill: #666; -fx-font-size: 12px;"/>
                <TableView fx:id="finishedTable" VBox.vgrow="ALWAYS"
                          style="-fx-background-color: white;">
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY"/>
                    </columnResizePolicy>
                </TableView>
            </VBox>
        </Tab>
    </TabPane>
    
</VBox>
